<html>
  <!-- all pages start and end with this tag -->
  <!-- Header information: links to external scripts and style files, other metadata about the page. -->
  <head>
    <link
      rel="stylesheet"
      href="{{url_for('static',filename='styles/listCompanies.css')}}"
    />
    <!-- The title is mandatory. If you use tabs, the title appears in the page's tab in your browser.-->
    <title>H-1B Data Hub</title>
  </head>
  <!-- The body consists of the visible parts of the web page. -->
  <body>
    <h1><div id="title" onclick="location.href='/home'">H-1B Data Hub</div></h1>

    <div class="navbar">
      <a href="/about">ABOUT</a>
      <div class="dropdown">
        <button class="dropbtn">
          FEATURES
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="/companies/search">COMPANY SEARCH</a>
          <a href="/ranking">TOP 10 RANKING</a>
        </div>
      </div>
      <a href="/help">HELP</a>
    </div>

    <div id="companySearch">
        <div id="filterBar">
            <form action="/companies/search">
              <div class="formCategory">
                <label for="company">Company Name</label>
                <input
                  type="text"
                  name="company"
                  value=""
                />
                </div>
                <div class="formCategory">
                <label for="year">Fiscal Year</label>
                <br>
                <select class="dropdownSelect" id="fiscalYear" name="year">
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                    <option value="2018">2018</option>
                </select>
                </div>
                <div class="formCategory">
                <label for="minInitApproval">Minimum Initial Approval</label>
                <input
                  type="text"
                  name="minInitApproval"
                  value=""
                />
                </div>
                <div class="formCategory">
                <label for="minInitDenial">Minimum Initial Denial</label>
                <input
                  type="text"
                  name="minInitDenial"
                  value=""
                  disabled
                />
                </div>
                <div class="formCategory">
                <label for="minContApproval">Minimum Continuing Approval</label>
                <input
                  type="text"
                  name="minContApproval"
                  value=""
                  disabled
                />
                </div>
                <div class="formCategory">
                <label for="minContDenial">Minimum Continuing Denial</label>
                <input
                  type="text"
                  name="minContDenial"
                  value=""
                  disabled
                />
                </div>
                <div class="formCategory">
                <label for="state">State</label>
                <br>
                <select class="dropdownSelect" id="states" name="state">
                    <option value="">-</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="DC">Washington DC</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                </select>
                </div>
                <div class="formCategory" id="filterButton">
                <input type="submit" value="Search Database" />
                <a id="reset" href="/companies/search">Reset</a>
                </div>
              </form>
        </div>

        <div id="companiesList">
            <div id = "listTotal">{{companiesList|length}} result(s)</div>
            {% if companiesList|length != 0: %}
            <ul>
                {% for company in companiesList: %}
                <li class="generalInfo">
                    <div class="companyName">{{company["companyName"]}}</div>
                    <div class="companyLocation">{{company["statistic"][year]["City"]}}, {{company["statistic"][year]["State"]}}</div>
                </li>
	              {% endfor %}
            </ul>
            {% else: %}
            <ul>
              <li class="generalInfo">
                  <div class="companyName">There are no companies that satisfy the condition.</div>
              </li>
            </ul>
            {% endif %}
        </div>

    </div>

  </body>
</html>
